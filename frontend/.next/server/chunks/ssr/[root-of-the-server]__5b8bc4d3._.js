module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},60350,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d(){let[a,d]=(0,c.useState)([]),[e,f]=(0,c.useState)(0),[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(!1),k=(0,c.useRef)(null),l=(0,c.useRef)(null),m=(0,c.useRef)(0);async function n(a){let b=a.target.files?.[0];if(!b)return;let c=new FormData;c.append("pdf",b);let e=await fetch("/api/upload",{method:"POST",body:c}),g=await e.json();g.success?(d(g.slides),f(0)):alert("Upload failed: "+g.error)}if((0,c.useEffect)(()=>{0===a.length||(async()=>{j(!0),h("");let b=await fetch("/api/narrate",{method:"POST",body:JSON.stringify({text:a[e].text}),headers:{"Content-Type":"application/json"}}),c=await b.json();c.success?h(c.narration):h("(Narration unavailable)"),j(!1)})()},[e,a]),0===a.length)return(0,b.jsx)("div",{className:"h-screen flex flex-col items-center justify-center",children:(0,b.jsx)("input",{type:"file",accept:"application/pdf",onChange:n})});let o=a[e];return(0,b.jsxs)("div",{className:"h-screen w-screen overflow-hidden bg-black text-white flex flex-col items-center justify-center",onTouchStart:function(a){k.current=a.touches[0].clientY},onTouchEnd:function(b){if(l.current=b.changedTouches[0].clientY,null==k.current||null==l.current)return;let c=k.current-l.current;c>50&&e<a.length-1&&f(e+1),c<-50&&e>0&&f(e-1),k.current=null,l.current=null},onWheel:function(b){let c=Date.now();!(c-m.current<400)&&(b.deltaY>40&&e<a.length-1?(f(e+1),m.current=c):b.deltaY<-40&&e>0&&(f(e-1),m.current=c))},children:[(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center transition-all duration-300 ease-out",children:[(0,b.jsx)("img",{src:`data:image/png;base64,${o.image_base64}`,className:"max-h-[70vh] object-contain rounded-lg"}),(0,b.jsx)("p",{className:"mt-4 text-center whitespace-pre-wrap text-sm px-4",children:o.text}),(0,b.jsx)("div",{className:"mt-6 text-center text-sm opacity-80 px-4",children:i?(0,b.jsx)("span",{children:"Generating narration..."}):(0,b.jsx)("p",{children:g})})]},e),(0,b.jsxs)("div",{className:"absolute bottom-4 opacity-70 text-xs",children:["Slide ",e+1," / ",a.length]})]})}a.s(["default",()=>d])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__5b8bc4d3._.js.map